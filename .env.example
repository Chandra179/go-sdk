# =============================================================================
# HashiCorp Vault Configuration
# =============================================================================
# This application uses HashiCorp Vault for secret management.
# All sensitive credentials are stored in Vault and injected at runtime.
#
# For local development, use: ./scripts/vault-dev-mode.sh
# For production, configure Vault Agent with appropriate authentication.
#
# See docs/VAULT_SETUP.md for detailed setup instructions.
# =============================================================================

# Vault Connection Settings
VAULT_ADDR=http://vault:8200

# App environment
APP_ENV=dev

# =============================================================================
# Service Connection Settings (Non-Secret)
# =============================================================================
# These configure service endpoints but do NOT contain credentials.
# Credentials are loaded from HashiCorp Vault.

# Redis connection (credentials from Vault)
REDIS_HOST=redis
REDIS_PORT=6379

# Postgres connection (credentials from Vault)
POSTGRES_HOST=postgres

# Kafka connection (credentials from Vault)
KAFKA_BROKERS=kafka:9092

# RabbitMQ connection (credentials from Vault)
RABBITMQ_HOST=rabbitmq

# Temporal connection (credentials from Vault)
TEMPORAL_HOST=temporal

# =============================================================================
# OAuth2 Configuration (Non-Secret Settings)
# =============================================================================
# Note: GOOGLE_CLIENT_ID and GOOGLE_CLIENT_SECRET are stored in Vault
GOOGLE_REDIRECT_URL=http://localhost:8080/auth/callback/google

# JWT Configuration (Non-Secret Settings)
# Note: JWT_SECRET is stored in Vault (min 32 characters required)
JWT_EXPIRATION=24h
STATE_TIMEOUT=5m

# =============================================================================
# Observability Configuration
# =============================================================================
OTEL_EXPORTER_OTLP_ENDPOINT=alloy:4317
OTEL_SERVICE_NAME=gosdk-app
OTEL_SAMPLER_RATIO=1.0

# =============================================================================
# HTTP Server Configuration
# =============================================================================
HTTP_PORT=8080
HTTP_READ_TIMEOUT=30s
HTTP_WRITE_TIMEOUT=30s

# =============================================================================
# Application Settings
# =============================================================================
SHUTDOWN_TIMEOUT=30s

# =============================================================================
# Vault Secret Paths Reference
# =============================================================================
# Secrets are stored in Vault at the following paths:
#
# Service          | Vault Path                  | Variables
# -----------------|-----------------------------|---------------------------
# Postgres         | secret/go-sdk/postgres    | password
# OAuth2/JWT       | secret/go-sdk/oauth2      | client_id, client_secret, jwt_secret
# Redis            | secret/go-sdk/redis       | password
# RabbitMQ         | secret/go-sdk/rabbitmq    | url
# Kafka            | secret/go-sdk/kafka       | tls_cert_file, tls_key_file, tls_ca_file,
#                  |                             | schema_registry_username, schema_registry_password,
#                  |                             | transaction_id
# Temporal         | secret/go-sdk/temporal    | tls_cert_file, tls_key_file, tls_ca_file
#
# To set secrets in Vault:
#   vault kv put secret/go-sdk/postgres password="secure-password"
#   vault kv put secret/go-sdk/oauth2 client_id="..." client_secret="..." jwt_secret="..."
#
# Or use the helper script:
#   ./scripts/vault-setup-secrets.sh
# =============================================================================
