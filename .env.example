# App environment
APP_ENV=dev

# Redis configuration
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=your_redis_password_here

# Google OAuth2
GOOGLE_CLIENT_ID=your_google_client_id_here
GOOGLE_CLIENT_SECRET=your_google_client_secret_here
GOOGLE_REDIRECT_URL=http://localhost:8080/auth/callback/google

# JWT configuration
JWT_SECRET=your_jwt_secret_must_be_at_least_32_characters_long
JWT_EXPIRATION=24h
STATE_TIMEOUT=5m

# Postgres
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_USER=myuser
POSTGRES_PASSWORD=mypassword
POSTGRES_DB=mydb
POSTGRES_SSLMODE=disable
MIGRATION_PATH=db/migrations

# Postgres Connection Pool (optional, defaults shown)
POSTGRES_MAX_OPEN_CONNS=25
POSTGRES_MAX_IDLE_CONNS=10
POSTGRES_CONN_MAX_LIFETIME=5m
POSTGRES_CONN_MAX_IDLE_TIME=10m
POSTGRES_QUERY_TIMEOUT=5s

# OpenTelemetry configuration
OTEL_EXPORTER_OTLP_ENDPOINT=alloy:4317
OTEL_SERVICE_NAME=gosdk-app
OTEL_SAMPLER_RATIO=1.0

# Kafka configuration
KAFKA_BROKERS=kafka:9092

# Kafka Producer configuration
KAFKA_PRODUCER_ACKS=all
KAFKA_PRODUCER_BATCH_SIZE=1048576
KAFKA_PRODUCER_LINGER_MS=10
KAFKA_PRODUCER_COMPRESSION=snappy
KAFKA_PRODUCER_MAX_ATTEMPTS=10
KAFKA_PRODUCER_ASYNC=false
KAFKA_PRODUCER_COMMIT_INTERVAL_MS=1000

# Kafka Consumer configuration
KAFKA_CONSUMER_MIN_BYTES=1024
KAFKA_CONSUMER_MAX_BYTES=10485760
KAFKA_CONSUMER_COMMIT_INTERVAL_MS=1000
KAFKA_CONSUMER_MAX_POLL_RECORDS=500
KAFKA_CONSUMER_HEARTBEAT_INTERVAL_MS=3000
KAFKA_CONSUMER_SESSION_TIMEOUT_MS=10000
KAFKA_CONSUMER_WATCH_PARTITION_CHANGES=true

# Kafka Retry configuration
KAFKA_RETRY_SHORT_ATTEMPTS=3
KAFKA_RETRY_INITIAL_BACKOFF_MS=100
KAFKA_RETRY_MAX_BACKOFF_MS=1000
KAFKA_RETRY_MAX_LONG_ATTEMPTS=3
KAFKA_RETRY_DLQ_ENABLED=true
KAFKA_RETRY_DLQ_TOPIC_PREFIX=.dlq
KAFKA_RETRY_TOPIC_SUFFIX=.retry

# Kafka TLS/Security configuration
KAFKA_SECURITY_ENABLED=false
KAFKA_TLS_CERT_FILE=/secrets/kafka_cert.pem
KAFKA_TLS_KEY_FILE=/secrets/kafka_tls_key.pem
KAFKA_TLS_CA_FILE=/secrets/kafka_ca.pem

# Kafka Schema Registry configuration
KAFKA_SCHEMA_REGISTRY_ENABLED=false
KAFKA_SCHEMA_REGISTRY_URL=http://schema-registry:8081
KAFKA_SCHEMA_REGISTRY_USERNAME=
KAFKA_SCHEMA_REGISTRY_PASSWORD=
KAFKA_SCHEMA_REGISTRY_FORMAT=avro
KAFKA_SCHEMA_REGISTRY_CACHE_TTL_SECONDS=3600

# Kafka Transaction configuration (Exactly-Once Semantics)
KAFKA_TRANSACTION_ENABLED=false
KAFKA_TRANSACTION_ID=
KAFKA_TRANSACTION_TIMEOUT_SECONDS=60
KAFKA_TRANSACTION_MAX_RETRIES=3
KAFKA_TRANSACTION_RETRY_BACKOFF_MS=100

# RabbitMQ configuration
RABBITMQ_URL=amqp://guest:guest@rabbitmq:5672/
RABBITMQ_CONNECTION_NAME=go-service

# RabbitMQ Producer configuration
RABBITMQ_PUBLISHER_CONFIRMS=true
RABBITMQ_CHANNEL_POOL_SIZE=10
RABBITMQ_MANDATORY=false
RABBITMQ_PERSISTENT_DELIVERY=true

# RabbitMQ Consumer configuration
RABBITMQ_PREFETCH_COUNT=10
RABBITMQ_AUTO_ACK=false

# RabbitMQ Queue configuration
RABBITMQ_QUEUE_TYPE=quorum
RABBITMQ_DURABLE=true
RABBITMQ_AUTO_DELETE=false
RABBITMQ_EXCLUSIVE=false
RABBITMQ_NO_WAIT=false

# RabbitMQ Retry/DLX configuration
RABBITMQ_RETRY_ENABLED=true
RABBITMQ_RETRY_TTL_SECONDS=30
RABBITMQ_MAX_RETRIES=3
RABBITMQ_DEAD_LETTER_ENABLED=true

# RabbitMQ Reconnection configuration
RABBITMQ_RECONNECT_INITIAL_SECONDS=1
RABBITMQ_RECONNECT_MAX_SECONDS=60

# HTTP Server
HTTP_PORT=8080
HTTP_READ_TIMEOUT=30s
HTTP_WRITE_TIMEOUT=30s

# Shutdown
SHUTDOWN_TIMEOUT=30s
